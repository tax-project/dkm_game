<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dkm.land.dao.LandMapper">
    <resultMap id="BaseResultMap" type="com.dkm.land.entity.Land" >
        <id column="la_id" property="laId" jdbcType="INTEGER" />
        <result column="la_no" property="laNo" jdbcType="VARCHAR" />
        <result column="la_name" property="laName" jdbcType="VARCHAR" />
        <result column="la_status" property="laStatus" jdbcType="INTEGER" />
    </resultMap>

    <insert id="insertLand" parameterType="com.dkm.land.entity.Land">
        insert into tb_land(la_id,la_no,la_name,la_status)
        <foreach collection="list" item="item" index="index" separator="union all">
            select #{item.laId},#{item.laNo},#{item.laName},#{item.laStatus}
        </foreach>
    </insert>

    <select id="queryLand" resultMap="BaseResultMap" parameterType="java.lang.Integer">
        select a.la_id,la_no,la_name,la_status from tb_land a,tb_land_user tu where tu.user_id=#{userId} and a.la_id=tu.la_id
    </select>
</mapper>
