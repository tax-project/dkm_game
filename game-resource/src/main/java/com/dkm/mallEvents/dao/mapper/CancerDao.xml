<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dkm.mallEvents.dao.CancerDao">


    <resultMap id="selectItem" type="com.dkm.mallEvents.entities.vo.SingleTopUpVo">
        <id column="id" property="id"/>
        <result column="day" property="day"/>
        <collection property="goods" ofType="com.dkm.mallEvents.entities.vo.GoodsInfoVo" column="item_id">
            <id column="item_id" property="id"/>
            <result column="name" property="name"/>
            <result column="size" property="size"/>
            <result column="image_url" property="imageUrl"/>
        </collection>
    </resultMap>

    <select id="selectSingle" resultMap="selectItem">
        SELECT a.id      id,
               b.id   as item_id,
               a.day  as day,
               b.size as size,
               c.name as name,
               c.url  as image_url
        FROM tb_mall_single a,
             tb_mall_single_item b,
             tb_goods c
        WHERE a.id = b.tb_mall_single_id
          AND c.id = b.goods_id
    </select>
    <select id="findCheckedById" resultType="com.dkm.mallEvents.entities.vo.SingleUserVo">
        SELECT *
        FROM tb_mall_single_user
        WHERE tb_mall_single_id = #{id}
          AND user_id = #{userId}
    </select>
    <select id="selectById" resultType="com.dkm.mallEvents.entities.vo.GoodsInfoVo">
        SELECT
    </select>
</mapper>